<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:a4j="http://richfaces.org/a4j" xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:rich="http://richfaces.org/rich" xmlns:p="http://primefaces.org/rich">
<body>
<ui:composition template="WEB-INF/templates/template.xhtml">

    <ui:define name="title"><ui:insert name="Rich faces sample" /></ui:define>

    <ui:define name="mainContent">
    	<h1>Nouvelle formation</h1>
        <div style="position:relative; width:100%; height:100%; float:left;">
		<h:form>
	        <rich:graphValidator value="#{newFormationView}" id="gv">
	            <rich:panel header="Nouvelle formation" style="width:500px">

	                <h:panelGrid columns="3">
	                    <h:outputText value="Enter new password:" />
	                    <h:inputText value="#{newFormationView.name}" id="pass" />
	                    <rich:message for="pass" />
	                    
	                </h:panelGrid>
	                <a4j:commandButton value="Enregistrer" action="#{newFormationView.record}" rendered="#{empty newFormationView.success}">
	                	<a4j:ajax event="click" execute="@all" render="@form" />
	                </a4j:commandButton>
					<rich:messages for="gv" />
	                <rich:messages globalOnly="true" />
	                
	                <h:panelGrid id="out" columns="3" rendered="#{not empty newFormationView.success}">
		             	<h:outputText value="Ben voilÃ " />
		            </h:panelGrid>
	                		
	            </rich:panel>
	        </rich:graphValidator>
	    </h:form>
		</div>
    </ui:define>
</ui:composition>
</body>
</html>